<script setup lang="ts">
import moment from 'moment'

const props = defineProps<{
    /* Placement props */
    startTime: string
    endTime: string

    columnWidth: number
    columnGap: number
    rowGap: number

    /* Content props */
    courseTitle: string
    student: string
    comment: string
    shortAdress: string
    fullAdress: string
    studentId: string
}>()

/* Formating start time to minuts and hours to wantet format */
const formatedStartTimeHour = Number(moment(props.startTime).format("HH")) - 1
const formatedStartTimeMinute = Number(moment(props.startTime).format("mm")) / 60
const formatedStartTime = formatedStartTimeHour + formatedStartTimeMinute

/* Formating end time to minuts and hours to wantet format */
const formatedEndTimeHour = Number(moment(props.endTime).format("HH")) - formatedStartTime - 1
const formatedEndTimeMinute = Number(moment(props.endTime).format("mm")) / 60
const formatedEndTime = formatedEndTimeHour + formatedEndTimeMinute

const dayInWeek = Number(moment(props.startTime).format("d")) - 1

const startTimeShowed = moment(props.startTime).format("HH:mm")
const endTimeShowed = moment(props.endTime).format("HH:mm")

</script>

<template>
<div class="item">
    <h1>{{ courseTitle }}</h1>
    <div>
        <img src="" alt="">
        <p>{{ startTimeShowed }} - {{ endTimeShowed }}</p>
    </div>
    <div>
        <img src="" alt="">
        <a :href="'' + fullAdress">{{ shortAdress }}</a>
    </div>
    <div>
        <img src="" alt="">
        <p>{{ student }}</p>
    </div>
</div> 
</template>

<style scoped>
.item {
    position: relative;
    background-color: var(--light-grey);
    border: var(--grey) 2px solid;
    border-radius: 0.5rem;

    width: v-bind(columnWidth + "px");
    height: v-bind((rowGap * formatedEndTime) + "px");
    left: v-bind((columnWidth + columnGap) * dayInWeek + "px");
    top: v-bind((rowGap * formatedStartTime) + 9 + "px");
}
</style>